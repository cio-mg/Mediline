<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Mediline</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>
        body {
            margin: 10;
        }
        
        .map {
            width: 80%;
            height: 700px;
        }
    </style>
</head>

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
<link href="styles.css" rel="stylesheet">

<body>
    <!-- <div id="map" class="map"></div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgjm2ESIbG95kPuuBy2p6-SuFXXOF5wgI"></script>

    <script>
        //  import Styles from './estadisticas.js'
        const $map = document.querySelector('#map')
        const map = new window.google.maps.Map($map, {
            center: {
                lat: 0,
                lng: 0,
            },
            zoom: 3,
            //styles:estadisticas
        })
        renderData()
        async function getData() {
            const response = await fetch('https://master-covid-19-api-laeyoung.endpoint.ainize.ai/jhu-edu/latest')
            const data = await response.json()
            return data
        }

        const popup = new window.google.maps.InfoWindow()

        function renderExtraData({
            confirmed,
            deaths,
            recovered,
            provincestate,
            countryregion
        }) {
            return (`
        <div>
          <p> <strong>${provincestate} - ${countryregion}</strong> </p>
          <p > Confirmados: ${confirmed} </p>
          <p> Muertes: ${deaths} </p>
          <p> Recuperados: ${recovered} </p>
        </div>
      `)
        }


        async function renderData() {
            const data = await getData()
            console.log(data)
            data.forEach(item => {
                const marker = new window.google.maps.Marker({
                    position: {
                        lat: item.location.lat,
                        lng: item.location.lng,
                    },
                    map,
                    icon: "assets/img/circulo2.png",
                    title: String(item.confirmed),
                })
                marker.addListener('click', () => {
                    popup.setContent(renderExtraData(item))
                    popup.open(map, marker)
                })
            })

        }
    </script> -->


    <app-root></app-root>
</body>

</html>